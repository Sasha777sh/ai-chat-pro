# üìã –ó–∞–¥–∞—á–∞ –¥–ª—è –ò–ò-–∞–≥–µ–Ω—Ç–∞: –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é Supabase

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

–í—ã–ø–æ–ª–Ω–∏—Ç—å SQL-–º–∏–≥—Ä–∞—Ü–∏—é –≤ Supabase –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ EDEM Intelligence.

---

## üìù –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–ê–ì 1: –û—Ç–∫—Ä—ã—Ç—å Supabase

1. –û—Ç–∫—Ä–æ–π –±—Ä–∞—É–∑–µ—Ä
2. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞: https://supabase.com/dashboard
3. –í–æ–π–¥–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
4. –í—ã–±–µ—Ä–∏ –ø—Ä–æ–µ–∫—Ç (–∏–ª–∏ —Å–æ–∑–¥–∞–π –Ω–æ–≤—ã–π)

### –®–ê–ì 2: –û—Ç–∫—Ä—ã—Ç—å SQL Editor

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–π–¥–∏ "SQL Editor"
2. –ù–∞–∂–º–∏ –Ω–∞ "SQL Editor"
3. –û—Ç–∫—Ä–æ–µ—Ç—Å—è —Ä–µ–¥–∞–∫—Ç–æ—Ä SQL

### –®–ê–ì 3: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥

1. –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª: `SUPABASE_FULL_MIGRATION.sql`
2. –í—ã–¥–µ–ª–∏ –≤–µ—Å—å –∫–æ–¥ (Ctrl+A)
3. –°–∫–æ–ø–∏—Ä—É–π (Ctrl+C)

**–í–ê–ñ–ù–û:** –ò—Å–ø–æ–ª—å–∑—É–π —Ñ–∞–π–ª `SUPABASE_FULL_MIGRATION.sql` ‚Äî –æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –í–°–ï –º–∏–≥—Ä–∞—Ü–∏–∏!

### –®–ê–ì 4: –í—Å—Ç–∞–≤–∏—Ç—å –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å

1. –í—Å—Ç–∞–≤—å –∫–æ–¥ –≤ SQL Editor (Ctrl+V)
2. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É "Run" (–∏–ª–∏ Ctrl+Enter)
3. –î–æ–∂–¥–∏—Å—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (1-5 —Å–µ–∫—É–Ω–¥)

### –®–ê–ì 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ: **"Success"** –∏–ª–∏ **"Success. No rows returned"**

–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ ‚Äî –ø—Ä–æ—á–∏—Ç–∞–π –∏—Ö –∏ —Å–æ–æ–±—â–∏.

---

## ‚úÖ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω–æ

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å:

1. **–¢–∞–±–ª–∏—Ü–∞ `profiles`** ‚Äî –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **–¢–∞–±–ª–∏—Ü–∞ `chat_sessions`** ‚Äî —Å–µ—Å—Å–∏–∏ —á–∞—Ç–∞ (—Å –∫–æ–ª–æ–Ω–∫–æ–π `voice_id`)
3. **–¢–∞–±–ª–∏—Ü–∞ `chat_messages`** ‚Äî —Å–æ–æ–±—â–µ–Ω–∏—è
4. **–¢–∞–±–ª–∏—Ü–∞ `billing_subscriptions`** ‚Äî –ø–æ–¥–ø–∏—Å–∫–∏

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å:

1. –í Supabase Dashboard ‚Üí **Table Editor**
2. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤—Å–µ 4 —Ç–∞–±–ª–∏—Ü—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç
3. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤ `chat_sessions` –µ—Å—Ç—å –∫–æ–ª–æ–Ω–∫–∞ `voice_id`

---

## ‚ö†Ô∏è –ï—Å–ª–∏ –æ—à–∏–±–∫–∞

**–û—à–∏–±–∫–∞: "relation does not exist"**
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü –µ—â—ë –Ω–µ—Ç
- –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞—Å—Ç –∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–û—à–∏–±–∫–∞: "column already exists"**
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –º–∏–≥—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `IF NOT EXISTS`
- –ú–æ–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å

**–î—Ä—É–≥–∏–µ –æ—à–∏–±–∫–∏:**
- –ü—Ä–æ—á–∏—Ç–∞–π —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏
- –°–æ–æ–±—â–∏, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üìä –û—Ç—á—ë—Ç –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞–ø–∏—à–∏:

```
‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞

–†–µ–∑—É–ª—å—Ç–∞—Ç: [Success / Error]
–û—à–∏–±–∫–∏: [–µ—Å–ª–∏ –µ—Å—Ç—å]
–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: [—á—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏–ª]
```

---

## üéØ –ò—Ç–æ–≥

**–ó–∞–¥–∞—á–∞:** –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL-–∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞ `SUPABASE_FULL_MIGRATION.sql` –≤ Supabase SQL Editor

**–í—Ä–µ–º—è:** 1-2 –º–∏–Ω—É—Ç—ã

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ü—Ä–æ—Å—Ç–∞—è

**–§–∞–π–ª –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:** `SUPABASE_FULL_MIGRATION.sql`


