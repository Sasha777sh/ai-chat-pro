# üîß –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ü–†–ò–ú–ï–ù–ï–ù–´

## ‚úÖ –ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (`/api/auth/register`)

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå "Invalid API key" error –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
- ‚ùå –ù–µ–ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚ùå –ü—Ä–æ—Ñ–∏–ª—å –º–æ–≥ –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- ‚úÖ –Ø–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–≥ –≤–æ–π—Ç–∏ –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞ (–¥–æ 3 —Ä–∞–∑)
- ‚úÖ –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º (–¥–∞—ë—Ç –≤—Ä–µ–º—è –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è)
- ‚úÖ –ï—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ –Ω–µ —É–¥–∞–ª—Å—è ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –ª–æ–≥–∏–Ω —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### 3. –í—Ö–æ–¥ (`/login`)

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –ù–µ–ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π "Invalid API key"

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –£–ª—É—á—à–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API –∫–ª—é—á–µ–π
- ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è email (trim, lowercase)

---

## üéØ –ß–¢–û –î–ï–õ–ê–¢–¨ –î–ê–õ–¨–®–ï

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ Vercel:

1. **–ü—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - `NEXT_PUBLIC_SUPABASE_URL` ‚Äî –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY` ‚Äî –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å anon key (–ù–ï service role!)
   - `SUPABASE_SERVICE_ROLE_KEY` ‚Äî –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å service role key

2. **–ü—Ä–æ–≤–µ—Ä—å —Ç—Ä–∏–≥–≥–µ—Ä –≤ Supabase:**
   - –û—Ç–∫—Ä–æ–π Supabase Dashboard ‚Üí SQL Editor
   - –í—ã–ø–æ–ª–Ω–∏ –ø—Ä–æ–≤–µ—Ä–∫—É —Ç—Ä–∏–≥–≥–µ—Ä–∞:
   ```sql
   SELECT * FROM pg_trigger WHERE tgname = 'on_auth_user_created';
   ```
   - –ï—Å–ª–∏ —Ç—Ä–∏–≥–≥–µ—Ä–∞ –Ω–µ—Ç ‚Üí –≤—ã–ø–æ–ª–Ω–∏ –º–∏–≥—Ä–∞—Ü–∏—é `001_init.sql`

3. **–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ Vercel:**
   - Vercel Dashboard ‚Üí Logs
   - –ò—â–∏ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/–≤—Ö–æ–¥–µ

---

## üìù –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å:

1. ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ä–∞–±–æ—Ç–∞–µ—Ç
2. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
3. ‚úÖ –í—Ö–æ–¥ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ä–∞–±–æ—Ç–∞–µ—Ç
4. ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
5. ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ "Invalid API key"

---

## üîç –ï–°–õ–ò –ü–†–û–ë–õ–ï–ú–´ –û–°–¢–ê–õ–ò–°–¨

**–í–µ—Ä–æ—è—Ç–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞ Vercel** (90% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)
   - –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ `NEXT_PUBLIC_SUPABASE_ANON_KEY` ‚Äî —ç—Ç–æ anon key, –∞ –Ω–µ service role

2. **–¢—Ä–∏–≥–≥–µ—Ä –Ω–µ —Å–æ–∑–¥–∞–Ω –≤ Supabase** (5% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)
   - –í—ã–ø–æ–ª–Ω–∏ –º–∏–≥—Ä–∞—Ü–∏—é `001_init.sql` –≤ Supabase SQL Editor

3. **–ü—Ä–æ–±–ª–µ–º—ã —Å RLS policies** (5% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)
   - –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é! üöÄ**

