# üîë –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å Service Role Key –∏–∑ Supabase

## ‚úÖ –ü–†–û–í–ï–†–ö–ê: Anon Key –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

**–¢–≤–æ–π anon key:**
```
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impnbm5yZHJxemN3bmh1dXZobGZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU3NjU1NTgsImV4cCI6MjA3MTM0MTU1OH0.BZBBo_yNxr7EQqmiI6toKI8y9BEpSjbFQraCo_h7I4A
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –°–æ–¥–µ—Ä–∂–∏—Ç `"role":"anon"` ‚Üí –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π anon key!
- ‚úÖ Project ref: `jgnnrdrqzcwnhuuvhlfo` ‚Üí –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç

---

## üîë –ö–ê–ö –ü–û–õ–£–ß–ò–¢–¨ SERVICE ROLE KEY

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π Supabase Dashboard

**–°—Å—ã–ª–∫–∞:** https://supabase.com/dashboard

### –®–∞–≥ 2: –ù–∞–π–¥–∏ –ø—Ä–æ–µ–∫—Ç

**Project URL:** `https://jgnnrdrqzcwnhuuvhlfo.supabase.co`

**–ò–ª–∏ –Ω–∞–π–¥–∏ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞ –≤ —Å–ø–∏—Å–∫–µ –ø—Ä–æ–µ–∫—Ç–æ–≤**

### –®–∞–≥ 3: –û—Ç–∫—Ä–æ–π Settings ‚Üí API

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏ **Settings** (—à–µ—Å—Ç–µ—Ä—ë–Ω–∫–∞)
2. –í—ã–±–µ—Ä–∏ **API** –≤ –ø–æ–¥–º–µ–Ω—é

### –®–∞–≥ 4: –°–∫–æ–ø–∏—Ä—É–π Service Role Key

**–ù–∞–π–¥–∏ —Å–µ–∫—Ü–∏—é "Project API keys":**

–¢–∞–º –±—É–¥—É—Ç –¥–≤–∞ –∫–ª—é—á–∞:
1. **anon/public** (—É–∂–µ –µ—Å—Ç—å —É —Ç–µ–±—è) ‚úÖ
2. **service_role** (–Ω—É–∂–µ–Ω —Ç–µ–±–µ) ‚ö†Ô∏è

**‚ö†Ô∏è –í–ê–ñ–ù–û:**
- Service Role Key –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `eyJ...`
- –°–æ–¥–µ—Ä–∂–∏—Ç `"role":"service_role"` –≤ JWT
- **–ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–π –µ–≥–æ –ø—É–±–ª–∏—á–Ω–æ!** –≠—Ç–æ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á

### –®–∞–≥ 5: –°–∫–æ–ø–∏—Ä—É–π –∫–ª—é—á

**–ù–∞–∂–º–∏ –Ω–∞ –∏–∫–æ–Ω–∫—É –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è** —Ä—è–¥–æ–º —Å service_role key

**–ò–ª–∏ –≤—ã–¥–µ–ª–∏ –∏ —Å–∫–æ–ø–∏—Ä—É–π –≤—Ä—É—á–Ω—É—é**

---

## üìã –ß–¢–û –î–û–õ–ñ–ù–û –ë–´–¢–¨

**–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —É —Ç–µ–±—è –±—É–¥–µ—Ç:**

```bash
# Anon Key (—É–∂–µ –µ—Å—Ç—å)
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJ... (—Å–æ–¥–µ—Ä–∂–∏—Ç "role":"anon")

# Service Role Key (–Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å)
SUPABASE_SERVICE_ROLE_KEY=eyJ... (—Å–æ–¥–µ—Ä–∂–∏—Ç "role":"service_role")
```

---

## üîç –ö–ê–ö –ü–†–û–í–ï–†–ò–¢–¨ –ü–†–ê–í–ò–õ–¨–ù–û–°–¢–¨ SERVICE ROLE KEY

**1. –°–∫–æ–ø–∏—Ä—É–π –∫–ª—é—á**

**2. –û—Ç–∫—Ä–æ–π:** https://jwt.io

**3. –í—Å—Ç–∞–≤—å –∫–ª—é—á –≤ "Encoded"**

**4. –ü—Ä–æ–≤–µ—Ä—å payload:**
```json
{
  "iss": "supabase",
  "ref": "jgnnrdrqzcwnhuuvhlfo",
  "role": "service_role",  ‚Üê –î–æ–ª–∂–Ω–æ –±—ã—Ç—å "service_role"!
  "iat": 1755765558,
  "exp": 2071341558
}
```

**–ï—Å–ª–∏ `"role":"service_role"`** ‚Üí ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–ª—é—á!

**–ï—Å–ª–∏ `"role":"anon"`** ‚Üí ‚ùå –≠—Ç–æ anon key, –Ω–µ service role!

---

## ‚ö†Ô∏è –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

**Service Role Key:**
- üî¥ **–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á** ‚Äî –Ω–µ –ø—É–±–ª–∏–∫—É–π –µ–≥–æ!
- üî¥ **–û–±—Ö–æ–¥–∏—Ç RLS** ‚Äî –∏–º–µ–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ë–î
- üî¥ **–¢–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ** ‚Äî –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ!

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- ‚úÖ –¢–æ–ª—å–∫–æ –≤ API routes (—Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–¥)
- ‚úÖ –¢–æ–ª—å–∫–æ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Vercel
- ‚ùå –ù–ï –≤ `NEXT_PUBLIC_*` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚ùå –ù–ï –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–¥–µ

---

## üöÄ –ß–¢–û –î–ï–õ–ê–¢–¨ –ü–û–°–õ–ï –ü–û–õ–£–ß–ï–ù–ò–Ø

**1. –î–æ–±–∞–≤—å –≤ `.env.local` (–ª–æ–∫–∞–ª—å–Ω–æ):**
```bash
SUPABASE_SERVICE_ROLE_KEY=eyJ... (—Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª—é—á)
```

**2. –î–æ–±–∞–≤—å –Ω–∞ Vercel:**
- –û—Ç–∫—Ä–æ–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ Vercel
- Settings ‚Üí Environment Variables
- –î–æ–±–∞–≤—å `SUPABASE_SERVICE_ROLE_KEY`
- –í—ã–±–µ—Ä–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Production, Preview)
- –°–æ—Ö—Ä–∞–Ω–∏

**3. –ü–µ—Ä–µ–¥–µ–ø–ª–æ–π –ø—Ä–æ–µ–∫—Ç:**
- Vercel Dashboard ‚Üí Deployments ‚Üí Redeploy
- –ò–ª–∏: `git commit --allow-empty -m "Add service role key" && git push`

---

## üìù –ü–û–õ–ù–´–ô –°–ü–ò–°–û–ö –ü–ï–†–ï–ú–ï–ù–ù–´–•

**–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è service role key —É —Ç–µ–±—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**

```bash
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://jgnnrdrqzcwnhuuvhlfo.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJ... (anon key - —É–∂–µ –µ—Å—Ç—å)
SUPABASE_SERVICE_ROLE_KEY=eyJ... (service role key - –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å)

# OpenAI
OPENAI_API_KEY=sk-proj-...

# YooKassa (–¥–ª—è –æ–ø–ª–∞—Ç—ã)
YK_SHOP_ID=...
YK_SECRET_KEY=...

# App URL
NEXT_PUBLIC_APP_URL=https://chatedem.com
```

---

## üîó –ü–†–Ø–ú–ê–Ø –°–°–´–õ–ö–ê

**–ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç —É–∂–µ –æ—Ç–∫—Ä—ã—Ç:**
https://supabase.com/dashboard/project/jgnnrdrqzcwnhuuvhlfo/settings/api

**–ò–ª–∏:**
1. https://supabase.com/dashboard
2. –ù–∞–π–¥–∏ –ø—Ä–æ–µ–∫—Ç
3. Settings ‚Üí API
4. –°–∫–æ–ø–∏—Ä—É–π **service_role** key

---

**–ü–æ–ª—É—á–∏ service role key –∏ –¥–æ–±–∞–≤—å –µ–≥–æ –Ω–∞ Vercel ‚Äî —ç—Ç–æ —Ä–µ—à–∏—Ç –ø—Ä–æ–±–ª–µ–º—É —Å –æ—à–∏–±–∫–æ–π 401! üöÄ**

