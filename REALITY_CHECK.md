# ‚ö†Ô∏è –ü–†–û–í–ï–†–ö–ê –†–ï–ê–õ–¨–ù–û–°–¢–ò: –ß—Ç–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

## üîç –ß–¢–û –°–î–ï–õ–ê–õ –ê–ì–ï–ù–¢

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ñ–∞–π–ª:** `/api/demo/route.ts`

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/demo` (–¥–µ–º–æ-—á–∞—Ç)
- ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –î–µ–º–æ-—á–∞—Ç –Ω–∞ `/demo` —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ùå –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/` –≤—Å—ë –µ—â—ë –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `/api/chat/stream` (–Ω–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∞–≥–µ–Ω—Ç–æ–º)

---

## üéØ –ì–î–ï –†–ï–ê–õ–¨–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

**–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:** `https://chatedem.com/` (–Ω–µ `/demo`!)

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç API:** `/api/chat/stream` (–ù–ï `/api/demo`)

**–ö–æ–¥:**
```typescript
// src/app/page.tsx, —Å—Ç—Ä–æ–∫–∞ 142
const response = await fetch('/api/chat/stream', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    Authorization: `Bearer ${session.access_token}`,
  },
  // ...
});
```

**–°—Ç–∞—Ç—É—Å `/api/chat/stream`:**
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —É–∂–µ –µ—Å—Ç—å –≤ –∫–æ–¥–µ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Ä–∞–Ω–µ–µ)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `supabaseAnonKey` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞
- ‚ùå –ù–æ –æ—à–∏–±–∫–∞ 401 –≤—Å—ë –µ—â—ë –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

---

## üî¥ –†–ï–ê–õ–¨–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

**–ê–≥–µ–Ω—Ç –∏—Å–ø—Ä–∞–≤–∏–ª:**
- ‚úÖ `/api/demo` ‚Üí —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ `/demo`

**–ê–≥–µ–Ω—Ç –ù–ï –∏—Å–ø—Ä–∞–≤–∏–ª:**
- ‚ùå `/api/chat/stream` ‚Üí –≤—Å—ë –µ—â—ë –æ—à–∏–±–∫–∞ 401 –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/`

**–í–µ—Ä–æ—è—Ç–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏ 401 –Ω–∞ `/api/chat/stream`:**
1. **90% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Vercel
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY` —Å–æ–¥–µ—Ä–∂–∏—Ç service role key –≤–º–µ—Å—Ç–æ anon key
2. **8% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –¢–æ–∫–µ–Ω –∏—Å—Ç—ë–∫ –∏ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
3. **2% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –ü—Ä–æ–±–ª–µ–º–∞ —Å Supabase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

---

## ‚úÖ –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨

### 1. –ü—Ä–æ–≤–µ—Ä—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

**–û—Ç–∫—Ä–æ–π:** https://chatedem.com (–Ω–µ `/demo`!)

**–ü—Ä–æ–≤–µ—Ä—å:**
- –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è / –≤–æ–π–¥–∏
- –û—Ç–ø—Ä–∞–≤—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
- –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Console)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚ùå –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ 401 ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ –ù–ï —Ä–µ—à–µ–Ω–∞
- ‚úÖ –ï—Å–ª–∏ —á–∞—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞

### 2. –ü—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Vercel

**–ö–†–ò–¢–ò–ß–ù–û:** –≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏ 401!

1. –û—Ç–∫—Ä–æ–π: https://vercel.com/dashboard
2. –ù–∞–π–¥–∏ –ø—Ä–æ–µ–∫—Ç `chatedem.com`
3. Settings ‚Üí Environment Variables
4. –ü—Ä–æ–≤–µ—Ä—å `NEXT_PUBLIC_SUPABASE_ANON_KEY`

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å:**
1. –û—Ç–∫—Ä–æ–π: https://supabase.com/dashboard
2. Settings ‚Üí API
3. –°—Ä–∞–≤–Ω–∏:
   - **anon/public key** ‚Üí –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ `NEXT_PUBLIC_SUPABASE_ANON_KEY`
   - **service_role key** ‚Üí –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ `SUPABASE_SERVICE_ROLE_KEY`

**–ï—Å–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç:**
- –°–∫–æ–ø–∏—Ä—É–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–ª—é—á–∏
- –û–±–Ω–æ–≤–∏ –Ω–∞ Vercel
- –ü–µ—Ä–µ–¥–µ–ø–ª–æ–π –ø—Ä–æ–µ–∫—Ç

### 3. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ Vercel

1. Vercel Dashboard ‚Üí Functions ‚Üí Logs
2. –û—Ç–ø—Ä–∞–≤—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
3. –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ ‚Äî —Ç–∞–º –±—É–¥–µ—Ç —Ç–æ—á–Ω–∞—è –æ—à–∏–±–∫–∞

---

## üìä –°–†–ê–í–ù–ï–ù–ò–ï

| –°—Ç—Ä–∞–Ω–∏—Ü–∞ | API Endpoint | –°—Ç–∞—Ç—É—Å |
|----------|-------------|--------|
| `/demo` | `/api/demo` | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∞–≥–µ–Ω—Ç–æ–º |
| `/` (–≥–ª–∞–≤–Ω–∞—è) | `/api/chat/stream` | ‚ùå –í—Å—ë –µ—â—ë –æ—à–∏–±–∫–∞ 401 |
| `/chat/[voice]` | `/api/chat/stream` | ‚ùå –í—Å—ë –µ—â—ë –æ—à–∏–±–∫–∞ 401 |

---

## üö® –í–´–í–û–î

**–ê–≥–µ–Ω—Ç –∏—Å–ø—Ä–∞–≤–∏–ª –¥–µ–º–æ-—Å—Ç—Ä–∞–Ω–∏—Ü—É, –Ω–æ –ù–ï –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É!**

**–†–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `/api/chat/stream`
- `/api/chat/stream` —É–∂–µ –∏–º–µ–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ –∫–æ–¥–µ
- –ù–æ –æ—à–∏–±–∫–∞ 401 –≤—Å—ë –µ—â—ë –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- **–í–µ—Ä–æ—è—Ç–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Vercel

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –ü—Ä–æ–≤–µ—Ä—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É (–Ω–µ `/demo`!)
2. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ 401 ‚Üí –ø—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Vercel
3. –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ ‚Üí –ø—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ Vercel

---

## üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø

**–ù–µ –∫–æ–º–º–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞ –≤ `/api/demo/route.ts`** ‚Äî —ç—Ç–æ –Ω–µ —Ä–µ—à–∏—Ç –ø—Ä–æ–±–ª–µ–º—É –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

**–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—å:**
1. –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/` (–Ω–µ `/demo`!)
2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Vercel
3. –õ–æ–≥–∏ Vercel

**–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ** –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞.

