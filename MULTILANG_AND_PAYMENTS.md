# üåç –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å –∏ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –°–∏—Å—Ç–µ–º–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ (i18n)

**–§–∞–π–ª—ã:**
- `src/lib/i18n.ts` ‚Äî –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ
- `src/contexts/LocaleContext.tsx` ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —è–∑—ã–∫–∞
- `src/components/LanguageSwitcher.tsx` ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —è–∑—ã–∫–∞

**–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —è–∑—ã–∫–æ–≤:**
- üá∑üá∫ –†—É—Å—Å–∫–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- üá¨üáß –ê–Ω–≥–ª–∏–π—Å–∫–∏–π

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
```tsx
import { useLocale } from '@/contexts/LocaleContext';
import { getTranslations, t } from '@/lib/i18n';

function MyComponent() {
  const { locale } = useLocale();
  const translations = getTranslations(locale);
  
  return <h1>{t('billing.title', locale)}</h1>;
}
```

### 2. –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å –ò–ò

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:**
- `src/lib/prompts.ts` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–º–ø—Ç–æ–≤
- `src/app/api/chat/stream/route.ts` ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `locale`

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ò–ò –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ–º–ø—Ç –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —è–∑—ã–∫–µ
- –û—Ç–≤–µ—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Ç–æ–º –∂–µ —è–∑—ã–∫–µ, —á—Ç–æ –∏ –∑–∞–ø—Ä–æ—Å
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞

### 3. –°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã

#### 3.1 –ÆKassa (–†–æ—Å—Å–∏—è)
- ‚úÖ –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ç–∞—Ä–∏—Ñ–æ–≤ (Basic, Plus, Pro)
- ‚úÖ –¶–µ–Ω—ã –≤ —Ä—É–±–ª—è—Ö

#### 3.2 –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞
**–§–∞–π–ª—ã:**
- `src/app/api/crypto/checkout/route.ts` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
- `src/app/api/crypto/ipn/route.ts` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ webhook

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∞—Ä–∏—Ñ—ã:**
- Basic: $15 USD
- Plus: $29 USD
- Pro: $49 USD

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- –ì–æ—Ç–æ–≤–æ –∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é NOWPayments, CoinGate, BTCPay
- –ù—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–∏—Ç—å API –∫–ª—é—á–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### 3.3 –†—É—á–Ω–∞—è –æ–ø–ª–∞—Ç–∞ (–∫–∞—Ä—Ç–∞ Visa –¢–∞–¥–∂–∏–∫–∏—Å—Ç–∞–Ω)
**–§–∞–π–ª:**
- `src/app/api/payment/manual/route.ts`

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–∞—Ä–∏—Ñ
2. –ü–æ–ª—É—á–∞–µ—Ç —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –∫–∞—Ä—Ç—ã
3. –ü–µ—Ä–µ–≤–æ–¥–∏—Ç –¥–µ–Ω—å–≥–∏
4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç –Ω–∞ email
5. –ü–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é (–≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤)

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```env
MANUAL_PAYMENT_CARD=XXXX XXXX XXXX XXXX
MANUAL_PAYMENT_NAME=Your Name
MANUAL_PAYMENT_BANK=Bank Name
SUPPORT_EMAIL=support@chatedem.com
```

---

## üìù –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### 1. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é –≤ UI

**–°—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
- `src/app/page.tsx` ‚Äî –≥–ª–∞–≤–Ω–∞—è
- `src/app/billing/page.tsx` ‚Äî —Ç–∞—Ä–∏—Ñ—ã
- `src/app/account/page.tsx` ‚Äî –∫–∞–±–∏–Ω–µ—Ç
- `src/app/chat/[voice]/page.tsx` ‚Äî —á–∞—Ç
- `src/app/login/page.tsx` ‚Äî –≤—Ö–æ–¥
- `src/app/signup/page.tsx` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

**–ü—Ä–∏–º–µ—Ä:**
```tsx
import { useLocale } from '@/contexts/LocaleContext';
import { t } from '@/lib/i18n';

export default function Page() {
  const { locale } = useLocale();
  
  return (
    <div>
      <h1>{t('billing.title', locale)}</h1>
      <LanguageSwitcher />
    </div>
  );
}
```

### 2. –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–∞ –Ω–∞ –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≥–æ—Ç–æ–≤:** `src/components/LanguageSwitcher.tsx`

**–î–æ–±–∞–≤–∏—Ç—å –≤:**
- Header –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- –ò–ª–∏ –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–µ–Ω—é

### 3. –û–±–Ω–æ–≤–∏—Ç—å UI –≤—ã–±–æ—Ä–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã

**–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:** `src/components/PaymentMethodSelector.tsx`

**–í–∞—Ä–∏–∞–Ω—Ç—ã –æ–ø–ª–∞—Ç—ã:**
1. –ÆKassa (–¥–ª—è –†–æ—Å—Å–∏–∏)
2. –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞ (–¥–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
3. –†—É—á–Ω–æ–π –ø–µ—Ä–µ–≤–æ–¥ (–∫–∞—Ä—Ç–∞ Visa –¢–∞–¥–∂–∏–∫–∏—Å—Ç–∞–Ω)

### 4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫—Ä–∏–ø—Ç–æ–ø–ª–∞—Ç–µ–∂–∏

**–í–∞—Ä–∏–∞–Ω—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**

#### NOWPayments
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: https://nowpayments.io
- API –∫–ª—é—á–∏ –≤ `.env`:
  ```env
  NOWPAYMENTS_API_KEY=your_key
  NOWPAYMENTS_IPN_SECRET=your_secret
  ```

#### CoinGate
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: https://coingate.com
- API –∫–ª—é—á–∏ –≤ `.env`:
  ```env
  COINGATE_API_KEY=your_key
  COINGATE_IPN_SECRET=your_secret
  ```

#### BTCPay Server
- –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
- –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞

### 5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä—É—á–Ω—É—é –æ–ø–ª–∞—Ç—É

**–î–æ–±–∞–≤–∏—Ç—å –≤ `.env`:**
```env
MANUAL_PAYMENT_CARD=XXXX XXXX XXXX XXXX
MANUAL_PAYMENT_NAME=Your Name
MANUAL_PAYMENT_BANK=Bank Name (Tajikistan)
SUPPORT_EMAIL=support@chatedem.com
```

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç "–†—É—á–Ω–æ–π –ø–µ—Ä–µ–≤–æ–¥"
2. –í–∏–¥–∏—Ç —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –∫–∞—Ä—Ç—ã
3. –ü–µ—Ä–µ–≤–æ–¥–∏—Ç –¥–µ–Ω—å–≥–∏
4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç –Ω–∞ email
5. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É –≤—Ä—É—á–Ω—É—é

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ (–≥–æ—Ç–æ–≤–æ)
2. ‚úÖ –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å –ò–ò (–≥–æ—Ç–æ–≤–æ)
3. ‚úÖ API –¥–ª—è –∫—Ä–∏–ø—Ç–æ–ø–ª–∞—Ç–µ–∂–µ–π (–≥–æ—Ç–æ–≤–æ)
4. ‚úÖ API –¥–ª—è —Ä—É—á–Ω–æ–π –æ–ø–ª–∞—Ç—ã (–≥–æ—Ç–æ–≤–æ)
5. ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ UI
6. ‚è≥ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–±–æ—Ä–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
7. ‚è≥ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫—Ä–∏–ø—Ç–æ–ø–ª–∞—Ç–µ–∂–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
8. ‚è≥ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä—É—á–Ω–æ–π –æ–ø–ª–∞—Ç—ã (email ‚Üí –∞–∫—Ç–∏–≤–∞—Ü–∏—è)

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
9. ‚è≥ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —è–∑—ã–∫–∏ (–∏—Å–ø–∞–Ω—Å–∫–∏–π, –∫–∏—Ç–∞–π—Å–∫–∏–π –∏ —Ç.–¥.)
10. ‚è≥ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

```tsx
import { useLocale } from '@/contexts/LocaleContext';
import { t, getTranslations } from '@/lib/i18n';

function Component() {
  const { locale, setLocale } = useLocale();
  const translations = getTranslations(locale);
  
  return (
    <div>
      <h1>{t('billing.title', locale)}</h1>
      <p>{t('chat.messagesLeft', locale, { count: 5 })}</p>
      <button onClick={() => setLocale('en')}>English</button>
    </div>
  );
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ø–æ—Å–æ–±–æ–≤ –æ–ø–ª–∞—Ç—ã

```tsx
// –ÆKassa
const response = await fetch('/api/yookassa/checkout', {
  method: 'POST',
  headers: { Authorization: `Bearer ${token}` },
  body: JSON.stringify({ planId: 'pro' }),
});

// –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞
const response = await fetch('/api/crypto/checkout', {
  method: 'POST',
  headers: { Authorization: `Bearer ${token}` },
  body: JSON.stringify({ planId: 'pro' }),
});

// –†—É—á–Ω–æ–π –ø–µ—Ä–µ–≤–æ–¥
const response = await fetch('/api/payment/manual', {
  method: 'POST',
  headers: { Authorization: `Bearer ${token}` },
  body: JSON.stringify({ planId: 'pro' }),
});
```

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å –ò–ò
- ‚úÖ API –¥–ª—è –≤—Å–µ—Ö —Å–ø–æ—Å–æ–±–æ–≤ –æ–ø–ª–∞—Ç—ã
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —è–∑—ã–∫–∞

**–û—Å—Ç–∞–ª–æ—Å—å:** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ UI –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã.

